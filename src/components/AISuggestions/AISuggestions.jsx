import React from 'react';
import { useNavigate, useLocation } from 'react-router-dom'; 
import './AISuggestions.css';

const AISuggestions = () => {
  const navigate = useNavigate(); // âœ… Hook to handle navigation
  const location = useLocation();

  const handleViewSuggestions = () => {
    try { sessionStorage.setItem('tasteOriginPath', location.pathname || '/'); } catch {}
    const authed = sessionStorage.getItem('isSignedIn') === '1';
    if (authed) {
      const hasSub = sessionStorage.getItem('hasSubscription') === '1' || localStorage.getItem('hasSubscription') === '1';
      if (hasSub) {
        navigate('/ai-picks', { replace: true });
      } else {
        navigate('/pricing', { replace: true });
      }
    } else {
      navigate('/signin', { state: { from: location.pathname || '/' } });
    }
  };
  return (
    <section className="ai-suggestions">
      <div className="container">
        <div className="ai-promo-card">
          <div className="ai-icon">
          <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M29.7105 3.3569C31.486 3.31989 33.2532 3.63838 34.9039 4.29346C36.5543 4.94854 38.0564 5.92719 39.3232 7.17145C40.5899 8.41567 41.5949 9.90052 42.2792 11.5388C42.9625 13.1744 43.3142 14.9304 43.3102 16.7029L43.3102 59.9963C43.3079 62.272 42.8377 64.5231 41.9312 66.6106C41.0248 68.6979 39.6998 70.577 38.0388 72.1325C36.3775 73.6876 34.4154 74.887 32.273 75.6543C30.1304 76.4215 27.8516 76.7415 25.5805 76.594C23.3097 76.4468 21.0921 75.8364 19.0668 74.7991C17.0417 73.7615 15.2514 72.3183 13.8052 70.5617C12.3587 68.8048 11.2864 66.7685 10.6573 64.5813C10.2273 63.0865 10.0147 61.5417 10.0134 59.9929C8.42787 58.8048 7.06057 57.3416 5.98422 55.6646C4.51908 53.3816 3.63357 50.7745 3.40543 48.0712C3.17745 45.3686 3.61539 42.652 4.67693 40.1561C5.3986 38.4595 6.39814 36.9034 7.62321 35.5414C7.07609 33.9856 6.75728 32.3536 6.68991 30.6961C6.58738 28.172 7.06221 25.6575 8.07522 23.3434C9.08834 21.0292 10.6128 18.974 12.5369 17.337C13.8243 16.2419 15.2698 15.357 16.8165 14.6997C16.9513 13.7998 17.1791 12.9137 17.4961 12.0559C18.1117 10.3904 19.0531 8.86419 20.2668 7.56818C21.4808 6.27201 22.944 5.23139 24.5659 4.50808C26.1869 3.78537 27.936 3.3941 29.7105 3.3569ZM29.8503 10.0136C28.9628 10.0322 28.0887 10.231 27.278 10.5925C26.467 10.9541 25.7354 11.4728 25.1285 12.1209C24.5216 12.7689 24.0509 13.532 23.7431 14.3647C23.4354 15.1973 23.2972 16.0829 23.3366 16.9696C23.4069 18.5432 22.3647 19.9528 20.8391 20.3451C19.3711 20.7225 18.0068 21.4279 16.8522 22.4101C15.698 23.3921 14.7837 24.625 14.1759 26.0133C13.568 27.4018 13.2819 28.9116 13.3434 30.4262C13.405 31.9402 13.8121 33.4202 14.5304 34.7545C15.288 36.1618 14.9381 37.909 13.6979 38.917C12.4347 39.9433 11.4407 41.2634 10.8036 42.7609C10.1665 44.2587 9.90579 45.8901 10.0427 47.5118C10.1796 49.1338 10.7115 50.6982 11.5906 52.0679C12.4696 53.4372 13.6693 54.572 15.0864 55.3719C16.267 56.0382 16.9252 57.3543 16.7514 58.6986C16.5765 60.0529 16.6829 61.4285 17.0604 62.7409C17.4379 64.0529 18.0789 65.2737 18.9465 66.3276C19.8143 67.3819 20.8889 68.248 22.1041 68.8707C23.3195 69.4934 24.6504 69.8587 26.013 69.947C27.3751 70.0356 28.7408 69.8444 30.0259 69.3845C31.3114 68.9243 32.4892 68.2041 33.486 67.2707C34.4827 66.3376 35.2802 65.2094 35.824 63.957C36.3671 62.7059 36.6482 61.3566 36.6502 59.9929L36.6502 16.6932L36.6176 16.0297C36.5536 15.37 36.3928 14.7219 36.1364 14.1079C35.794 13.2886 35.2902 12.5447 34.6568 11.9226C34.0231 11.3003 33.2707 10.8095 32.4454 10.4819C31.6204 10.1548 30.7376 9.99515 29.8503 10.0136Z" fill="#D42814"/>
<path d="M40.1768 26.6867C42.0129 26.7873 43.4185 28.3562 43.3183 30.1923C43.1208 33.8089 41.8558 37.2847 39.6826 40.1822C37.5095 43.0799 34.5271 45.2694 31.1105 46.4715C29.3758 47.0819 27.4739 46.1705 26.8634 44.4359C26.2532 42.701 27.1646 40.7992 28.8991 40.1888C31.0732 39.4239 32.973 38.0323 34.3559 36.1888C35.7389 34.3447 36.5458 32.1297 36.6713 29.8281C36.7719 27.9921 38.341 26.5866 40.1768 26.6867Z" fill="#D42814"/>
<path d="M19.8874 13.7721C21.6104 13.7017 23.0829 14.9528 23.3215 16.6241L23.3508 16.9623L23.4321 17.7623C23.5181 18.29 23.6683 18.8051 23.8776 19.2972L24.2353 20.0159L24.3914 20.3183C25.0816 21.8581 24.5057 23.7012 23.0125 24.5621C21.5183 25.4229 19.6343 24.996 18.6484 23.6256L18.4631 23.3394L18.0826 22.6305C17.3663 21.1926 16.9151 19.6368 16.7525 18.0387L16.6973 17.2355L16.7005 16.894C16.8023 15.2095 18.165 13.8428 19.8874 13.7721Z" fill="#D42814"/>
<path d="M11.9154 32.0835C13.5233 31.1913 15.5495 31.7703 16.4422 33.378C17.3345 34.9857 16.7555 37.012 15.1479 37.9044C14.6332 38.1901 14.1442 38.5215 13.6878 38.8931L13.4113 39.0979C12.0018 40.0253 10.0902 39.7516 9.0017 38.4149C7.84099 36.9897 8.05514 34.8938 9.47975 33.7323L10.0618 33.277C10.652 32.8383 11.272 32.4407 11.9154 32.0835Z" fill="#D42814"/>
<path d="M10.5317 56.6519C11.3785 55.1504 13.2163 54.5583 14.7624 55.2339L15.0681 55.3868L15.6405 55.6862C16.9919 56.3372 18.4762 56.6755 19.9818 56.6745C21.8205 56.6742 23.311 58.1657 23.3118 60.0045C23.3125 61.8433 21.8236 63.3332 19.9851 63.3345C17.4756 63.3358 15.002 62.7711 12.7495 61.6858L11.7967 61.1883L11.5072 61.0062C10.129 60.0328 9.68496 58.1533 10.5317 56.6519Z" fill="#D42814"/>
<path d="M53.3297 40C55.1688 40 56.6597 41.4908 56.6597 43.33C56.6597 45.1692 55.1688 46.66 53.3297 46.66L40.0097 46.66C38.1705 46.66 36.6797 45.1692 36.6797 43.33C36.6797 41.4908 38.1705 40 40.0097 40L53.3297 40Z" fill="#D42814"/>
<path d="M63.3197 69.9949V66.6649C63.3197 65.7818 62.9687 64.935 62.344 64.3106C61.7196 63.6859 60.8728 63.3349 59.9897 63.3349L40.0097 63.3349C38.1705 63.3349 36.6797 61.8441 36.6797 60.0049C36.6797 58.1658 38.1705 56.6749 40.0097 56.6749L59.9897 56.6749C62.6394 56.6749 65.1795 57.7282 67.0529 59.6017C68.9264 61.4751 69.9797 64.0152 69.9797 66.6649V69.9949C69.9797 71.8341 68.4888 73.3249 66.6497 73.3249C64.8105 73.3249 63.3197 71.8341 63.3197 69.9949Z" fill="#D42814"/>
<path d="M66.6497 23.34C68.4888 23.34 69.9797 24.8309 69.9797 26.67C69.9797 28.5091 68.4888 30 66.6497 30L40.0097 30C38.1705 30 36.6797 28.5091 36.6797 26.67C36.6797 24.8309 38.1705 23.34 40.0097 23.34L66.6497 23.34Z" fill="#D42814"/>
<path d="M50.0098 26.6549L50.0098 16.6649C50.0098 14.0154 51.063 11.4752 52.9365 9.6017C54.81 7.72821 57.3504 6.67493 59.9998 6.67493C61.8389 6.67493 63.3298 8.16583 63.3298 10.0049C63.3298 11.844 61.8389 13.3349 59.9998 13.3349C59.1166 13.3349 58.2698 13.686 57.6455 14.3105C57.0207 14.935 56.6698 15.7817 56.6698 16.6649L56.6698 26.6549C56.6698 28.494 55.1789 29.9849 53.3398 29.9849C51.5006 29.9849 50.0098 28.494 50.0098 26.6549Z" fill="#D42814"/>
<path d="M53.33 41.665C52.4105 41.665 51.665 42.4105 51.665 43.33C51.665 44.2494 52.4105 44.995 53.33 44.995C54.2494 44.995 54.995 44.2494 54.995 43.33C54.995 42.4105 54.2494 41.665 53.33 41.665ZM58.325 43.33C58.325 46.0885 56.0885 48.325 53.33 48.325C50.5714 48.325 48.335 46.0885 48.335 43.33C48.335 40.5714 50.5714 38.335 53.33 38.335C56.0885 38.335 58.325 40.5714 58.325 43.33Z" fill="#D42814"/>
<path d="M59.9999 8.335C59.0805 8.335 58.3349 9.08046 58.3349 10C58.3349 10.9196 59.0805 11.665 59.9999 11.665C60.9193 11.665 61.6649 10.9196 61.6649 10C61.6649 9.08046 60.9193 8.335 59.9999 8.335ZM64.9949 10C64.9949 12.7587 62.7585 14.995 59.9999 14.995C57.2413 14.995 55.0049 12.7587 55.0049 10C55.0049 7.24133 57.2413 5.005 59.9999 5.005C62.7585 5.005 64.9949 7.24133 64.9949 10Z" fill="#D42814"/>
<path d="M66.6698 68.335C65.7504 68.335 65.0048 69.0806 65.0048 70C65.0048 70.9194 65.7504 71.665 66.6698 71.665C67.5892 71.665 68.3348 70.9194 68.3348 70C68.3348 69.0806 67.5892 68.335 66.6698 68.335ZM71.6648 70C71.6648 72.7586 69.4284 74.995 66.6698 74.995C63.9112 74.995 61.6748 72.7586 61.6748 70C61.6748 67.2414 63.9112 65.005 66.6698 65.005C69.4284 65.005 71.6648 67.2414 71.6648 70Z" fill="#D42814"/>
<path d="M66.6698 25.0049C65.7504 25.0049 65.0048 25.7504 65.0048 26.6699C65.0048 27.5895 65.7504 28.3349 66.6698 28.3349C67.5892 28.3349 68.3348 27.5895 68.3348 26.6699C68.3348 25.7504 67.5892 25.0049 66.6698 25.0049ZM71.6648 26.6699C71.6648 29.4286 69.4284 31.6649 66.6698 31.6649C63.9112 31.6649 61.6748 29.4286 61.6748 26.6699C61.6748 23.9113 63.9112 21.6749 66.6698 21.6749C69.4284 21.6749 71.6648 23.9113 71.6648 26.6699Z" fill="#D42814"/>
</svg>

          </div>
          
          <div className="ai-content">
            <h2 className="ai-title">AI-Powered Suggestions for You!</h2>
            <p className="ai-description">
              Let our intelligent system recommend dishes you'll love based on your preferences and order history.
            </p>
            <button className="ai-btn" onClick={handleViewSuggestions}>
              View AI Suggestions
            </button>
          </div>
        </div>
      </div>
    </section>
  );
};

export default AISuggestions;
